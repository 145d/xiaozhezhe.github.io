<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://www.zhz666.cf</id>
    <title>欢迎来到德莱联盟</title>
    <updated>2020-12-02T15:26:58.713Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://www.zhz666.cf"/>
    <link rel="self" href="https://www.zhz666.cf/atom.xml"/>
    <subtitle>笑着面对生活，爱你呦~</subtitle>
    <logo>https://www.zhz666.cf/images/avatar.png</logo>
    <icon>https://www.zhz666.cf/favicon.ico</icon>
    <rights>All rights reserved 2020, 欢迎来到德莱联盟</rights>
    <entry>
        <title type="html"><![CDATA[Shell脚本的“判断语句”]]></title>
        <id>https://www.zhz666.cf/post/shell-jiao-ben-de-pan-duan-yu-ju/</id>
        <link href="https://www.zhz666.cf/post/shell-jiao-ben-de-pan-duan-yu-ju/">
        </link>
        <updated>2020-12-02T14:00:30.000Z</updated>
        <content type="html"><![CDATA[<p>【1】、条件测试</p>
<p>是判断语句最基础的算法，通过固定的格式进行字符串或数值的比较。<br>
语句格式中，【在中括号的两端加空格，测试语句不会直接生成结果】，满足条件的会标记为0，不满足条件的标记为其他值。</p>
<p>格式1：test  条件表达式<br>
格式2：[  条件表达式  ]             #两个空格都不能少</p>
<p>【2】、文件测试</p>
<p>通过条件表达式，测试指定的文件或目录是否存在或其属性。</p>
<p>条件判断<br>
判断的方式两种<br>
1、test<br>
2、if</p>
<p>test：文件测试<br>
格式1：test 表达式<br>
格式2：[   表达式    ]            #括号前后有空格</p>
<p>-d：是否是目录<br>
-f：是否是文件<br>
-r：是否具有读权限<br>
-w：是否具有写入权限<br>
-x：是否具有执行权限          Exist：存在，生存            excute：执行，实施<br>
-e：测试文件或目录是否存在<br>
-s：是否是套接字<br>
-c：是否是字符集设备<br>
-b：是否是是块设备<br>
$?   存储上一次命令执行后的状态，执行成功为0 ,执行失败或报错为其他数值</p>
<p>[root@lala ~]# test -d aaa<br>
[root@lala ~]# echo $?<br>
1                                            --返回1表示执行出错<br>
[root@lala ~]# mkdir aaa<br>
[root@lala ~]# test -d aaa<br>
[root@lala ~]# echo $?<br>
0</p>
<p>[root@lala ~]# [ -d /media/dvd  ]<br>
[root@lala ~]# echo $?<br>
0<br>
[root@lala ~]# [ -d /media/dvd/server  ]<br>
[root@lala ~]# echo $?<br>
1</p>
<p>[root@lala ~]# [ -d /media ] &amp;&amp; echo &quot;yes&quot;<br>
yes<br>
[root@lala ~]# [ -d /media/dvd ] &amp;&amp; echo &quot;yes&quot;             &amp;&amp;（逻辑与，而且的意思）<br>
因为没有/media/dvd目录，所以不输出任何结果<br>
[root@lala ~]#  [ -d /media/dvd ] &amp;&amp; echo &quot;yes&quot; || echo no     || （逻辑或，“或者”的意思）<br>
no<br>
[root@lala ~]# [ -f aa.txt ] &amp;&amp; echo &quot;yes&quot;<br>
[root@lala ~]# touch aa.txt<br>
[root@lala ~]# [ -f aa.txt ] &amp;&amp; echo &quot;yes&quot;<br>
yes</p>
<p>检查看aa.txt文件的权限                                   【友情提示：不要去用大管root用户测试权限】<br>
[root@lala ~]# ls -l aa.txt<br>
-rw-r--r--. 1 root root 0 3月   2 15:53 aa.txt<br>
[root@lala ~]# [ -r aa.txt ] &amp;&amp; echo &quot;yes&quot;    （读权限）<br>
yes<br>
[root@lala ~]# [ -w aa.txt ] &amp;&amp; echo &quot;yes&quot;   （写权限）<br>
yes<br>
[root@lala ~]# [ -x aa.txt ] &amp;&amp; echo &quot;yes&quot;   （执行权限）<br>
因为没有执行权限，所以不输出任何内容<br>
[haha@localhost huaizhe]$ [ -x aa.txt ] &amp;&amp; echo &quot;yes&quot;  || echo 你没有权限<br>
你没有权限</p>
<p>[root@lala ~]# [ -e aa.txt ] &amp;&amp; echo &quot;yes&quot;    （是否存在）<br>
yes<br>
[root@lala ~]# [ -e a.txt ] &amp;&amp; echo &quot;yes&quot;</p>
<p>【3】、整数值比较<br>
-eq：等于（Equal）         Equal：相同的，同等的                               greate：较大的        than：就，（多、小、少）于              lesser： 较小的<br>
-ne：不等于（Not Equal）<br>
-gt：大于（Greater Than）<br>
-lt：小于（Lesser Than）<br>
-le：小于或等于（Lesser or Equal）<br>
-ge：大于或等于（Greater or Equal）</p>
<p>[root@lala ~]# [ 1 -eq 2 ]<br>
[root@lala ~]# echo $?<br>
1-255<br>
[root@lala ~]# [ 1 -eq 1 ]<br>
[root@lala ~]# echo $?<br>
0</p>
<p>例：测试用户输入的值是否大于100<br>
例：（脚本）<br>
#!/bin/bash<br>
stty -echo<br>
read -p &quot;请输入一个数值：&quot; num<br>
printf &quot;\n&quot;<br>
stty echo<br>
printf &quot;\n&quot;<br>
[ $num -gt 100 ] &amp;&amp; echo &quot;数值大于100&quot; || echo &quot;数值小于100&quot;</p>
<p>例：判断磁盘使用量<br>
[root@lala ~]# df -hT<br>
文件系统            类型      容量  已用  可用 已用% 挂载点<br>
/dev/mapper/cl-root xfs        97G  4.1G   93G    5% /<br>
devtmpfs            devtmpfs  897M     0  897M    0% /dev<br>
tmpfs               tmpfs     912M  144K  912M    1% /dev/shm<br>
tmpfs               tmpfs     912M   17M  895M    2% /run<br>
tmpfs               tmpfs     912M     0  912M    0% /sys/fs/cgroup<br>
/dev/sda1           xfs       197M  150M   47M   77% /boot<br>
tmpfs               tmpfs     183M   16K  183M    1% /run/user/0<br>
/dev/sr0            iso9660   4.1G  4.1G     0  100% /media/dvd<br>
[root@lala ~]# df -hT | grep &quot;/boot<span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;#&#039; at position 75: …t
[root@lala ~]#̲ df -hT | grep …'>&quot;
/dev/sda1           xfs       197M  150M   47M   77% /boot
[root@lala ~]# df -hT | grep &quot;/boot</span>&quot; | awk '{print <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;}&#039; at position 2: 6}̲&#039;
77%
[root@lal…'>6}&#039;
77%
[root@lala ~]# df -hT | grep &quot;/boot</span>&quot; | awk '{print $6}' | cut -d% -f1<br>
77<br>
[root@lala ~]# [ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>d</mi><mi>f</mi><mo>−</mo><mi>h</mi><mi>T</mi><mi mathvariant="normal">∣</mi><mi>g</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi mathvariant="normal">&quot;</mi><mi mathvariant="normal">/</mi><mi>b</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">(df -hT | grep &quot;/boot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">p</span><span class="mord">&quot;</span><span class="mord">/</span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span></span></span></span>&quot; | awk '{print $6}' | cut -d% -f1) -ge 60 ] &amp;&amp; echo &quot;too many&quot;<br>
too many</p>
<p>例：判断内存<br>
[root@lala ~]# free<br>
total        used        free      shared  buff/cache   available<br>
Mem:        1867264      581368      324024       19444      961872     1033020<br>
Swap:       2097148           0     2097148<br>
[root@lala ~]# free | grep &quot;Mem:&quot;<br>
Mem:        1867264      581740      323652       19444      961872     1032680<br>
[root@lala ~]# free | grep &quot;Mem:&quot; | awk '{print <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;}&#039; at position 2: 4}̲&#039;
323388
[root@…'>4}&#039;
323388
[root@lala ~]# b=</span>(free | grep &quot;Mem:&quot; | awk '{print $4}')<br>
[root@lala ~]# [ $b -lt 500000 ] &amp;&amp; echo ${b}MB</p>
<p>【4】、字符串比较<br>
=:字符串相同<br>
!=：字符串不同（! 号表示相反的意思）<br>
-z：字符串是否为空</p>
<p>例：<br>
[root@lala ~]# echo $LANG<br>
zh_CN.UTF-8<br>
[root@lala ~]# [ $LANG != &quot;zh_CN.UTF-8&quot; ] &amp;&amp; echo &quot;不是中文&quot; || echo &quot;中文&quot;<br>
中文</p>
<p>例：<br>
[root@lala ~]# read -p &quot;Do you love me?(yes/no)&quot; ack<br>
Do you love me?(yes/no)yes<br>
[root@lala ~]# [ $ack = &quot;yes&quot; ] &amp;&amp; echo &quot;I love you too&quot; || echo &quot;But I love you very much&quot;<br>
I love you too<br>
[root@lala ~]# [ $ack = &quot;no&quot; ] &amp;&amp; echo &quot;I love you too&quot; || echo &quot;But I love you very much&quot;<br>
But I love you very much<br>
例：<br>
[root@localhost ~]# [ -z ]<br>
[root@localhost ~]# echo $?<br>
0<br>
[root@localhost ~]# [ -z 123456 ]<br>
[root@localhost ~]# echo $?<br>
1<br>
特殊示例：<br>
a=               {变量值不能为空}<br>
b=123.com<br>
[ $a = $b ]<br>
echo $?<br>
2<br>
[root@localhost ~]# [ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">a=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>b ]        //不加空格相当等式了！！！<br>
[root@localhost ~]# echo $?<br>
0</p>
<p>【5】、逻辑测试<br>
-a或&amp;&amp;：逻辑与（and）         #多个测试条件进行链接，当前面的测试条件满足时，进行后面的条件测试<br>
-o或||    ：逻辑或/否则（or）  #多个测试条件满足任意一个（[ $a -lt 90 ] || [ $a -ge 80 ] ）<br>
！          ：逻辑非（取反）<br>
应用环境：||一般用于多个&amp;&amp;测试条件之后，当前面的测试都不满足时，最后默认生效的测试。<br>
num=101<br>
[ $num -gt 100 ] &amp;&amp; echo &quot;数值大于100&quot; || echo &quot;数值小于100&quot;</p>
<p>例：<br>
[root@lala ~]# [ $USER != root ] &amp;&amp; echo &quot;not root&quot; || echo &quot;hello good man&quot;<br>
hello good man<br>
[root@lala ~]# [ $USER = root ] &amp;&amp; echo &quot;hello muhuaijun is a good man&quot; || echo &quot;not root&quot;<br>
hello muhuaijun is a good man</p>
<p>例：判断用户是否存在<br>
[root@lala ~]# id<br>
uid=0(root) gid=0(root) 组=0(root) 环境=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023<br>
[root@lala ~]# id abc<br>
id: abc: no such user<br>
写一个脚本，检查用户abc是否存在，如果存在，则显示“abc is user”，如果不存在则创建<br>
vim useradd.sh<br>
#!/bin/bash<br>
id abc &amp;&gt; /dev/null &amp;&amp; echo &quot;abc is user&quot; || useradd abc</p>
<p>[root@lala ~]# sh useradd.sh<br>
[root@lala ~]# tail -1 /etc/passwd<br>
abc：x：1001:1001::/home/abc:/bin/bash</p>
<h1 id="例rootlala-~-vim-diskshbinbashdiskuserdf-ht-grep-boot-awk-print-6-cut-d-f1-diskuser-ge-60-echo-space-is-low-echo-space-is-muchrootlala-~-sh-diskshspace-is-low例rootlocalhost-~-z-pass1-rootlocalhost-~-echo-1rootlocalhost-~-pass14566rootlocalhost-~-z-pass1-rootlocalhost-~-echo-0">例：<br>
[root@lala ~]# vim disk.sh<br>
#!/bin/bash<br>
diskuser=<code>df -hT | grep &quot;/boot$&quot; | awk '{print $6}' | cut -d% -f1</code><br>
[ $diskuser -ge 60 ] &amp;&amp; echo &quot;space is low&quot; || echo &quot;space is much&quot;<br>
[root@lala ~]# sh disk.sh<br>
space is low<br>
例：<br>
[root@localhost ~]# ! [ -z $pass1 ]<br>
[root@localhost ~]# echo $?<br>
1<br>
[root@localhost ~]# pass1=4566<br>
[root@localhost ~]# ! [ -z $pass1 ]<br>
[root@localhost ~]# echo $?<br>
0</h1>
<p><font color=#0000FF><strong>练习</strong></font></p>
<p>1、测试/opt/backup目录是否存在<br>
[root@lala ~]# vim di.sh<br>
#!/bin/bash<br>
[ -d /opt/backup ] &amp;&amp; echo &quot;yes&quot; || echo &quot;no&quot;</p>
<p>[root@lala ~]# sh di.sh<br>
no</p>
<p>2、查询当前的活动进程数，并测试是否小于100<br>
[root@lala ~]# vim ps.sh<br>
#!/bin/bash<br>
pss=<code>ps aux | wc -l</code><br>
[ $pss -lt 100 ] &amp;&amp; echo &quot;yes&quot; || echo &quot;no&quot;<br>
[root@lala ~]# sh ps.sh<br>
no</p>
<p>3、测试是否已经安装sysstat软件包<br>
[root@lala ~]# vim sys.sh<br>
#!/bin/bash<br>
rpm -qa sysstat &amp;&gt; /dev/null<br>
a=‘<code>echo $?</code>’<br>
[ $a -ne 0 ] &amp;&amp; echo &quot;not installed&quot; || echo &quot;installed&quot;</p>
<h1 id="4-测试user1是否存在若不存在则创建rootlala-~-vim-users2shbinbashid-user1-devnull-echo-有此用户-echo-正在创建此用户-useradd-user1-id-user10-devnull-useradd-user10-echo-user10-passwd-stdin-123com-devnull-echo-user10-shigeyonghu-id-user20-devnull-useradd-user20-echo-user20-passwd-stdin-123com-devnull-echo-user20-shigeyonghu-id-user30-devnull-useradd-user30-echo-user30-passwd-stdin-123com-devnull-echo-user30-shigeyonghu-id-user40-devnull-useradd-user40-echo-user40-passwd-stdin-123com-devnull-echo-user40-shigeyonghu-id-user50-devnull-useradd-user50-echo-user50-passwd-stdin-123com-devnull-echo-user50-shigeyonghu">4、测试user1是否存在，若不存在则创建<br>
[root@lala ~]# vim users2.sh<br>
#!/bin/bash<br>
id user1 &amp;&gt; /dev/null &amp;&amp; echo 有此用户 || echo 正在创建此用户 &amp;&amp; useradd user1<br>
! id user10 &amp;&gt; /dev/null &amp;&amp; useradd user10 &amp;&amp; echo &quot;user10&quot; | passwd --stdin &quot;123.com&quot; &amp;&gt; /dev/null || echo &quot;user10 shigeyonghu&quot;<br>
! id user20 &amp;&gt; /dev/null &amp;&amp; useradd user20 &amp;&amp; echo &quot;user20&quot; | passwd --stdin &quot;123.com&quot; &amp;&gt; /dev/null || echo &quot;user20 shigeyonghu&quot;<br>
! id user30 &amp;&gt; /dev/null &amp;&amp; useradd user30 &amp;&amp; echo &quot;user30&quot; | passwd --stdin &quot;123.com&quot; &amp;&gt; /dev/null || echo &quot;user30 shigeyonghu&quot;<br>
! id user40 &amp;&gt; /dev/null &amp;&amp; useradd user40 &amp;&amp; echo &quot;user40&quot; | passwd --stdin &quot;123.com&quot; &amp;&gt; /dev/null || echo &quot;user40 shigeyonghu&quot;<br>
! id user50 &amp;&gt; /dev/null &amp;&amp; useradd user50 &amp;&amp; echo &quot;user50&quot; | passwd --stdin &quot;123.com&quot; &amp;&gt; /dev/null || echo &quot;user50 shigeyonghu&quot;</h1>
<p>if语句结构<br>
if……then……：如果……那么……</p>
<p>每个if语句都要用fi结束，而且是每一个if都要对应一个fi。<br>
整个if语句用fi闭合起来才算完整，书写时if和fi要垂直对齐以方便查看。</p>
<p>格式举例：<br>
if  condition                                   condition：状态<br>
then<br>
    command1<br>
    command2                                command：命令，指令<br>
fi</p>
<p>condition是判断条件，如果 condition 成立（返回“真”），那么 then 后边的语句将会被执行；如果 condition 不成立（返回“假”），那么不会执行任何语句。最后必须以fi来闭合，fi 就是 if 倒过来拼写，即使有多条语句也不需要用{ }包围起来。</p>
<p><font color="#00dd00"><strong>【1】单分支语法格式（两种写法）</strong></font><br /><br>
if  条件测试操作	                              	if  条件测试操作；then 命令序列<br>
then 命令序列    	                             	      fi<br>
fi<br>
解析：【1】如果if和then在同一行，必有;       【2】不在一行;可以省略！！！<br>
<font color="#dd0000">单分支执行流程：<br>
1）首先判断条件测试操作的结果。<br>
2）如果返回值为0，表示条件成立，则执行then后面的命令序列，一直到遇见fi结束判断为止，继续执行其他脚本代码；<br>
3）如果返回值不为0，则忽略then后面的命令序列，直接跳转至fi行以后执行其他脚本代码。</font><br /></p>
<p>例：<br>
[root@localhost ~]# vim mount.sh<br>
#!/bin/bash<br>
mou=&quot;/var/www/html&quot;<br>
if [ ! -d $mou ]<br>
then<br>
mkdir -p $mou<br>
fi</p>
<p>例：<br>
[root@localhost ~]# vim us.sh<br>
#!/bin/bash<br>
if [ $USER != &quot;abc&quot; ]<br>
then<br>
echo &quot;abc is not user&quot;                //执行脚本，返回abc is not user（如果有abc用户，将什么都不显示！）<br>
fi<br>
<font color="#00dd00"><strong>【2】双分支语法格式</strong></font><br /><br>
判断条件表达式中的结果是否满足，如果满足条件则执行命令序列1，如果不满足条件，则执行命令序列2。</p>
<p>语法格式：<br>
if [ 条件测试操作 ];then                                                                      then：接着，当时                else：其他的，另外的<br>
满足条件后执行的语句 （命令序列1）<br>
else<br>
不满足添加后执行的语句（命令序列2）<br>
fi<br>
<font color="#dd0000"><strong>注：else在一组if语句中只能使用一次。<br>
在程序或脚本中，大部分的逻辑判断都是使用双分支语句。</strong></font><br /><br>
<font color="#dd0000">执行流程：</br><br>
1）首先判断条件测试操作的结果！</br><br>
2）如果条件成立，则执行then后面的命令序列1，忽略else及后面的命令序列2，直到遇见fi结束判断；</br><br>
3）如果条件不成立，则忽略then及后面的命令序列1，直接跳至else后面的命令序列2，直到遇见fi结束判断。</font><br /></p>
<p>例：<br>
[root@localhost www]# vim httpd.sh<br>
#!/bin/bash<br>
netstat -anpt | grep 80<br>
a=<code>echo $?</code><br>
if [ $a -eq 0 ];then<br>
echo &quot;httpd is running&quot;<br>
else<br>
systemctl restart httpd &amp;&amp; echo &quot;httpd is run!!!&quot;<br>
fi</p>
<p>例：<br>
[root@localhost www]# vim ping.sh<br>
#!/bin/bash<br>
ping -c 3 -i 0.2 -W 3 $1 &amp;&gt; /dev/null<br>
if [ $? -eq 0 ]<br>
then<br>
echo &quot;host $1 is up&quot;<br>
else<br>
echo &quot;host $1 is down&quot;<br>
fi</p>
<p>-c    3:只发送3个测试包<br>
-i    0.2：间隔0.2秒<br>
-W     3：超时3秒<br>
$1：位置变量，如果改成$2，则要写两个ip地址，第一个不被使用，直接使用第二个</p>
<p>[root@localhost www]# chmod +x ping.sh<br>
[root@localhost www]# ./ping.sh 192.168.6.20</p>
<p><font color="#00dd00"><strong>【3】多分支语句结构</strong></font><br /><br>
判断条件中，多于两个以上的对比值，使用多分支判断，对不用值的语句调用。<br>
if  条件测试操作1<br>
then 命令序列1<br>
elif 条件测试操作2                               elif：否则如果<br>
then 命令序列2<br>
else  命令序列3<br>
fi<br>
<font color="#dd0000">执行流程：</br><br>
1）首先判断条件测试操作1的结果，如果条件1成立，则执行命令序列1，然后跳至fi结束判断；</br><br>
2）如果条件1不成立，则继续判断条件测试操作2的结果，如果条件2成立，则执行命令序列2，然后跳至fi结束判断……0</br><br>
3）如果所有条件都不满足，则执行then及后面的命令序列n，直接跳至else后面的命令序列2，直到遇见fi结束判断。</td></tr></font><br /></p>
<p>例：<br>
vim name.sh<br>
#!/bin/bash<br>
read -p &quot;what's your name?(xuesenwei,lianpeng,yuxinyu,boge):&quot;  name<br>
if [ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>=</mo><mi mathvariant="normal">&quot;</mi><mi>x</mi><mi>u</mi><mi>e</mi><mi>s</mi><mi>e</mi><mi>n</mi><mi>w</mi><mi>e</mi><mi>i</mi><mi mathvariant="normal">&quot;</mi><mo>]</mo><mi>t</mi><mi>h</mi><mi>e</mi><mi>n</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">name = &quot;xuesenwei&quot; ]
then
echo &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">&quot;</span><span class="mord mathdefault">x</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord">&quot;</span><span class="mclose">]</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord">&quot;</span></span></span></span>name is pig&quot;<br>
elif [ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>=</mo><mi mathvariant="normal">&quot;</mi><mi>l</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi mathvariant="normal">&quot;</mi><mo>]</mo><mi>t</mi><mi>h</mi><mi>e</mi><mi>n</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">name = &quot;lianpeng&quot; ]
then
echo &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">&quot;</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">p</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord">&quot;</span><span class="mclose">]</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord">&quot;</span></span></span></span>name is monkey&quot;<br>
elif [ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>=</mo><mi mathvariant="normal">&quot;</mi><mi>y</mi><mi>u</mi><mi>x</mi><mi>i</mi><mi>n</mi><mi>y</mi><mi>u</mi><mi mathvariant="normal">&quot;</mi><mo>]</mo><mi>t</mi><mi>h</mi><mi>e</mi><mi>n</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">name = &quot;yuxinyu&quot; ]
then
echo &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">&quot;</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault">u</span><span class="mord mathdefault">x</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault">u</span><span class="mord">&quot;</span><span class="mclose">]</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord">&quot;</span></span></span></span>name is dashu&quot;<br>
else<br>
echo &quot;$name is niu&quot;<br>
fi</p>
<p>[root@lala ~]# sh name.sh<br>
what's your name?(xuesenwei,lianpeng,yuxinyu,boge):yuxinyu<br>
yuxinyu is dashu</p>
<p>例：<br>
[root@lala ~]# vim fen.sh           --书上的示例<br>
#!/bin/bash<br>
read -p &quot;qing shu ru nin de fen shu(0-100):&quot;    fenshu<br>
if<br>
[ $fenshu -ge 85 ] &amp;&amp; [ $fenshu -le 100 ];<br>
then<br>
echo &quot;chengji is couhe&quot;<br>
elif<br>
[ $fenshu -ge 70 ] &amp;&amp; [ $fenshu -le 84 ];<br>
then<br>
echo &quot;chengji is youxiu&quot;<br>
elif<br>
[ $fenshu -ge 60 ] &amp;&amp; [ $fenshu -le 69 ];<br>
then<br>
echo &quot;chengji is hege&quot;<br>
else<br>
echo &quot;chengji is bujige&quot;<br>
fi</p>
<h2 id="rootlala-~-sh-fenshqing-shu-ru-nin-de-fen-shu0-10085chengji-is-couherootlala-~-sh-fenshqing-shu-ru-nin-de-fen-shu0-10074chengji-is-youxiu">[root@lala ~]# sh fen.sh<br>
qing shu ru nin de fen shu(0-100):85<br>
chengji is couhe<br>
[root@lala ~]# sh fen.sh<br>
qing shu ru nin de fen shu(0-100):74<br>
chengji is youxiu</h2>
<p><font size="4"><strong>判断分数范围，分出优秀、合格、不合格三档（中文版）</strong></font><br>
<font color="#0000dd"><br>
#!/bin/bash<br>
read -p 请输入成绩： a<br>
if [ $a -le 100 ] &amp;&amp;  [ $a -ge 90 ]<br>
then   echo 优<br>
elif [ $a -lt 90 ] &amp;&amp; [ $a -ge 80 ]<br>
then echo 良<br>
elif [ $a -lt 80 ] &amp;&amp; [ $a -ge 70 ]; then<br>
echo 好<br>
elif [ $a -lt 70 ] &amp;&amp; [ $a -ge 60 ];then echo 合格<br>
elif [ $a -ge 100 ];<br>
then echo 你牛逼<br>
else<br>
echo 不合格<br>
fi<br>
[root@localhost ~]# source 1.sh<br>
请输入成绩：105<br>
你牛逼<br>
[root@localhost ~]# source 1.sh<br>
请输入成绩：35<br>
不合格<br>
[root@localhost ~]# source 1.sh<br>
请输入成绩：85<br>
良</font><br /></p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=28285910&auto=1&height=66"></iframe>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Centos7安装VMware-Tools]]></title>
        <id>https://www.zhz666.cf/post/centos7-an-zhuang-vmware-tools/</id>
        <link href="https://www.zhz666.cf/post/centos7-an-zhuang-vmware-tools/">
        </link>
        <updated>2020-11-24T00:24:02.000Z</updated>
        <content type="html"><![CDATA[<p>1、配置yum源😎<br>
rm -f /etc/yum.repos.d/*<br>
vim /etc/yum.repos.d/yum.repo</p>
<p>2、挂载系统光盘<br>
umount /dev/sr0<br>
mount /dev/sr0 /media<br>
cd /media/Packages/</p>
<p>3、安装组件与依赖关系<br>
yum -y install gcc gcc-c++ perl make kernel-haders kernel-devel</p>
<p>4、卸载系统自带工具<br>
rpm -qa | grep vm-tools<br>
rpm -e open-vm-tools open-vm-tools-desktop --nodeps</p>
<p>5、建立内核版本文件软连接文件<br>
ln -s /usr/src/kernels/3.10.0-514.el7.x86_64/include/generated/uapi/linux/version.h /usr/src/kernels/3.10.0-514.el7.x86_64/include/linux/version.h</p>
<p>6、关闭防火墙与selinux<br>
vim /etc/selinux/config<br>
修改：<br>
SELINUX=disabled</p>
<p>setenforce 0<br>
systemctl disable firewalld.service<br>
systemctl stop firewalld.service<br>
reboot</p>
<p>7、挂载vmware-tools光盘，解压软，并安装软件<br>
tar -zxvf VMwareTools-10.0.0-2977863.tar.gz -C /tmp<br>
cd /tmp/vmware-tools-distrib/<br>
./vmware-install.pl<br>
reboot<br>
😎😎😎😎😎😎😎😎😎😎😎</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1473348808&auto=1&height=66"></iframe>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[我的世界]]></title>
        <id>https://www.zhz666.cf/post/wo-de-shi-jie/</id>
        <link href="https://www.zhz666.cf/post/wo-de-shi-jie/">
        </link>
        <updated>2020-11-15T05:36:15.000Z</updated>
        <content type="html"><![CDATA[<iframe  class="music" frameborder="no" src="//music.163.com/outchain/player?type=1&id=89680147&auto=1&height=90"></iframe>
>en						用户模式
#conf t						特权模式
(config)#int f0/0					全局模式
(config-if)#					接口模式
#disable  →>
(config)#hostname  name				修改主机名
<p>switch(config)#vlan vlan-number			划分VLAN<br>
switch(config-vl)#name vlan-name			vlan命名<br>
switch(config)#int range f0/1-5			同时进入f0/1-5端口<br>
Switch(config-if-range)#switchport mode access		把端口设置成接入链路<br>
Switch(config-if-range)#switchport access vlan 2		把端口加入到vlan2<br>
switch(config-if-range)#switchport mode trunk		把端口设置成中继链路<br>
switch(config-if-range)#channel-group 1 mode on 	把几个端口捆绑成以太网通道1<br>
switch(config)#vtp domain vtp-name			设置VTP名称<br>
switch(config)#vtp password vtp-password		设置VTP密码<br>
switch(config)#vtp mode server|client			设置成VTP服务器|客户端<br>
switch(config)#ip default-gateway 默认网关		设置交换机默认网关	<br>
(config)#enable secret pwd1				设置特权模式密码(密文)<br>
(config)#enable password pwd1			设置特权模式密码(明文)<br>
(config)#service password-encryption			对明文密码加密<br>
(config-if)#ip address IP地址 子网掩码 			设置IP地址(交换机的IP地址只能设置在虚拟端口vlan上)<br>
(config-if)#no shutdown				手动开启端口<br>
(config)#line vty 0 4				开启0~4端口(一共5个)<br>
(config)#password vty-password			设置vty密码<br>
(config)#login					开启登录模式<br>
(config)#line console 0 				进入配置口<br>
(config)#password con-password			设置配置口密码<br>
(config)#login					开启登录模式<br>
vty		远程访问的时候需要<br>
console		直接用配置线对设备配置时需要<br>
router(config)#ip route 目标网段 子网掩码 IP地址|端口号 num	设置静态路由<br>
router(config)#ip route 192.168.6.0 255.255.255.0 f0/1<br>
IP地址指向下一个路由器(下一个路由器接收口的IP地址)<br>
端口号指自身的端口(当前路由器的出口)<br>
num数值1~255  数值越小优先级越高<br>
目标网段 不能是具体IP地址(192.168.10.0      2.0.0.0)<br>
router(config)#ip dhcp pool dhcp-name		设置DHCP并命名<br>
router(dhcp-config)#network 分配的网段 子网掩码		设置地址池<br>
分配的网段  (192.168.5.0  6.0.0.0)<br>
router(dhcp-config)#default-router 默认网关		DHCP分配的默认网关<br>
router(config)#int f 0/0.1				进入子端口<br>
f0/0.1指 f0/0的第一个子端口<br>
f0/1.2指 f0/1的第二个子端口<br>
Router(config-subif)#en do vlan-number		把子端口绑定到vlan<br>
Router(config-subif)#en do 2				把子端口绑定到vlan2</p>
<p>telnet 目标IP地址					PC上远程访问设备<br>
#reload						正常使用时重启<br>
#show running-config				查看运行时配置<br>
#show startup-config				查看保存的配置<br>
(config)#do show running-config			其他模式下查看前面+do</p>
<p>#copy running-config startup-config			把当前配置保存到NVRAM<br>
#write						保存运行时配置(效果同上)<br>
#copy startup-config running-config			用NVRAM覆盖当前配置</p>
<p>#erase nvram: 					删除保存的配置</p>
<p>#copy tftp flash					从TFTP服务器下载系统到路由器	<br>
#copy flash tftp					从路由器上传系统到服务器<br>
(config)#ip ftp username s1t161			在路由器上设置ftp的用户名<br>
(config)#ip ftp password s1t161			在路由器上设置ftp的密码</p>
<p>rommon 1 &gt; tftpdnld     				(download)<br>
rommon 2 &gt; IP_ADDRESS=1.1.1.1			设置路由器的IP地址<br>
rommon 3 &gt; IP_SUBNET_MASK=255.0.0.0		设置路由器的子网掩码<br>
rommon 4 &gt; DEFAULT_GATEWAY=1.2.2.2		设置路由器的默认网关(TFTP的IP地址)<br>
rommon 5 &gt; TFTP_SERVER=1.2.2.2			设置下载系统的原位置的IP地址(TFTP的IP地址)<br>
rommon 6 &gt; TFTP_FILE=c1841-ipbasek9-mz.124-12.bin	设置要下载的文件名<br>
rommon 7 &gt; tftpdnld</p>
<p>Do you wish to continue? y/n:  [n]:  y			输入y继续<br>
rommon 8 &gt; reset					重启<br>
😙</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://www.zhz666.cf/post/hello-gridea/</id>
        <link href="https://www.zhz666.cf/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <content type="html"><![CDATA[<!-- more -->
<!-- more -->
<p>👏  欢迎使用 <strong>Gridea</strong> ！<br>
✍️  <strong>Gridea</strong> 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea 主页</a><br>
<a href="http://fehey.com/">示例网站</a></p>
<h2 id="特性">特性👇</h2>
<p>📝  你可以使用最酷的 <strong>Markdown</strong> 语法，进行快速创作</p>
<p>🌉  你可以给文章配上精美的封面图和在文章任意位置插入图片</p>
<p>🏷️  你可以对文章进行标签分组</p>
<p>📋  你可以自定义菜单，甚至可以创建外部链接菜单</p>
<p>💻  你可以在 <strong>Windows</strong>，<strong>MacOS</strong> 或 <strong>Linux</strong> 设备上使用此客户端</p>
<p>🌎  你可以使用 <strong>𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌</strong> 或 <strong>Coding Pages</strong> 向世界展示，未来将支持更多平台</p>
<p>💬  你可以进行简单的配置，接入 <a href="https://github.com/gitalk/gitalk">Gitalk</a> 或 <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> 评论系统</p>
<p>🇬🇧  你可以使用<strong>中文简体</strong>或<strong>英语</strong></p>
<p>🌁  你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力</p>
<p>🖥  你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步</p>
<p>🌱 当然 <strong>Gridea</strong> 还很年轻，有很多不足，但请相信，它会不停向前 🏃</p>
<p>未来，它一定会成为你离不开的伙伴</p>
<p>尽情发挥你的才华吧！</p>
<p>😘 Enjoy~</p>
]]></content>
    </entry>
</feed>